include ../input-box/input-box
include ../goods/goods
include ../calendar/calendar

mixin dropdown(options)
  - 
    const { 
      title,
      secondTitle,
      placeholder,
      status,
      value,
      autofocus,
      masked,
      applyButton,
      resetButton,
      opened,
      type,
    } = options;
    const jsClassMod = opened === true ? 'js-dropdown_open' : 'js-dropdown_close';
    let propsList;
    let classMod;
    switch(type) {
      case 'guests':
        propsList = ['Взрослые','Дети','Младенцы'];
        classMod = 'dropdown_guests';
        break;
      case 'goods':
        propsList = ['Спальни', 'Кровати', 'Ванные комнаты'];
        classMod = 'dropdown_goods';
        break;
      case 'dates': 
        classMod = 'dropdown_dates';
        break;
      case 'date-filter':
        classMod = 'dropdown_date-filter'
        break;
      default:
        break;
    }

  .dropdown.js-dropdown(class= `${classMod} ${jsClassMod}`)
    if type !== 'dates' && type !== 'date-filter'
      .dropdown__content
        .dropdown__input-box
          +input-box(
            {
              title: title,
              placeholder: placeholder,
              expandButton: true,
              status: status,
            }
          )
    else if type === 'dates'
      .dropdown__content
        .dropdown__input-box.dropdown__input-box_date-from
          +input-box(
            {
              title: title,
              placeholder: placeholder,
              expandButton: true,
              status: status,
            }
          )
        .dropdown__input-box.dropdown__input-box_date-to
          +input-box(
            {
              title: secondTitle,
              placeholder: placeholder,
              expandButton: true,
              status: status,
            }
          )
    else if type === 'date-filter'
      .dropdown__content
        .dropdown__input-box.dropdown__input-box_date
          +input-box(
            {
              title: title,
              placeholder: placeholder,
              expandButton: true,
              status: status,
            }
          )
    if type === 'guests' || type === 'goods'
      .dropdown__popup.js-dropdown__popup
        .dropdown__goods
          +goods({ type: type, applyButton: applyButton, resetButton: resetButton})
    else if type === 'dates' || type === 'date-filter'
      .dropdown__popup.js-dropdown__popup
        .dropdown__calendar
          +calendar()